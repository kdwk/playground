use criterion::{Criterion, criterion_group, criterion_main};
use main::prelude::*;

fn criterion_benchmark(c: &mut Criterion) {
    c.bench_function("quicksort 1000", |b| {
        b.iter(|| {
            quicksort(vec![
                573, 895, 755, 604, 802, 861, 929, 681, 78, 942, 54, 558, 569, 894, 165, 518, 472,
                673, 685, 509, 203, 368, 527, 522, 371, 916, 691, 227, 462, 378, 780, 231, 390,
                338, 824, 863, 661, 93, 409, 253, 595, 530, 366, 297, 374, 869, 982, 667, 827, 839,
                930, 799, 201, 964, 499, 533, 98, 487, 605, 662, 920, 465, 629, 221, 194, 844, 301,
                786, 240, 674, 765, 526, 432, 364, 242, 761, 65, 434, 121, 864, 376, 71, 206, 788,
                143, 249, 857, 754, 353, 449, 346, 58, 451, 885, 610, 304, 670, 562, 131, 845, 153,
                167, 962, 687, 652, 49, 216, 512, 933, 333, 19, 587, 205, 968, 192, 650, 108, 493,
                115, 187, 599, 83, 118, 974, 265, 18, 951, 43, 148, 222, 87, 779, 280, 886, 758,
                250, 296, 355, 117, 552, 548, 335, 588, 129, 77, 997, 684, 399, 4, 452, 536, 867,
                703, 555, 927, 994, 195, 645, 695, 344, 251, 643, 919, 321, 13, 911, 262, 841, 849,
                593, 575, 11, 388, 980, 965, 387, 107, 843, 39, 198, 401, 866, 124, 33, 298, 60,
                63, 770, 207, 400, 419, 616, 305, 689, 607, 285, 923, 354, 631, 884, 445, 510, 247,
                403, 170, 626, 822, 42, 594, 381, 983, 566, 879, 701, 948, 82, 424, 677, 494, 973,
                989, 846, 796, 162, 473, 133, 79, 808, 146, 934, 751, 961, 136, 290, 633, 314, 739,
                48, 72, 897, 814, 727, 103, 266, 459, 183, 960, 905, 466, 155, 486, 2, 140, 892,
                176, 464, 851, 415, 427, 286, 565, 149, 95, 990, 912, 700, 810, 163, 511, 10, 320,
                453, 525, 292, 630, 837, 425, 600, 480, 429, 431, 830, 234, 67, 544, 585, 412, 189,
                609, 648, 581, 69, 191, 385, 576, 319, 172, 906, 356, 615, 74, 614, 926, 904, 294,
                341, 784, 618, 257, 985, 180, 740, 70, 816, 936, 467, 287, 898, 322, 111, 819, 596,
                570, 277, 324, 977, 179, 86, 178, 986, 169, 666, 502, 367, 382, 199, 756, 769, 383,
                671, 717, 88, 541, 51, 213, 515, 577, 414, 397, 142, 957, 454, 741, 589, 517, 809,
                817, 664, 5, 177, 539, 446, 310, 704, 776, 910, 732, 789, 392, 490, 68, 144, 66,
                622, 127, 36, 406, 568, 259, 223, 833, 999, 105, 790, 734, 245, 396, 859, 506, 211,
                479, 623, 47, 657, 752, 811, 736, 375, 161, 963, 777, 725, 798, 402, 992, 12, 276,
                41, 875, 909, 540, 6, 952, 716, 157, 528, 120, 847, 186, 76, 647, 102, 971, 954,
                781, 350, 722, 628, 315, 159, 747, 228, 233, 113, 101, 668, 551, 574, 478, 313,
                627, 591, 702, 8, 215, 583, 258, 697, 981, 625, 22, 907, 489, 134, 870, 932, 931,
                3, 944, 612, 876, 407, 295, 503, 821, 749, 1000, 746, 254, 672, 597, 893, 485, 25,
                202, 745, 852, 208, 37, 902, 282, 327, 358, 535, 842, 803, 715, 914, 130, 166, 712,
                16, 110, 523, 339, 394, 637, 40, 793, 441, 275, 433, 359, 46, 764, 976, 918, 649,
                602, 663, 308, 318, 188, 442, 271, 632, 655, 797, 868, 236, 241, 771, 682, 329,
                244, 882, 422, 62, 80, 209, 44, 444, 92, 363, 678, 801, 504, 881, 831, 488, 373,
                679, 430, 995, 325, 665, 243, 336, 834, 154, 812, 31, 730, 563, 463, 508, 975, 357,
                145, 598, 720, 386, 482, 556, 554, 762, 303, 477, 352, 299, 267, 656, 421, 795,
                760, 694, 750, 248, 775, 733, 200, 443, 642, 456, 9, 553, 708, 291, 416, 966, 947,
                832, 561, 958, 152, 89, 683, 838, 293, 724, 470, 393, 418, 38, 654, 806, 184, 61,
                709, 24, 32, 119, 922, 557, 455, 263, 505, 90, 967, 495, 778, 959, 28, 268, 998,
                106, 603, 913, 410, 686, 707, 96, 545, 246, 384, 606, 735, 772, 828, 676, 550, 559,
                935, 35, 337, 491, 524, 921, 423, 943, 938, 564, 481, 173, 854, 160, 309, 939, 818,
                300, 862, 372, 792, 408, 261, 783, 698, 710, 521, 611, 171, 787, 27, 15, 274, 109,
                52, 238, 279, 112, 435, 688, 284, 450, 484, 651, 377, 917, 437, 317, 497, 513, 723,
                269, 669, 560, 328, 468, 901, 658, 181, 721, 369, 461, 174, 252, 405, 255, 608,
                283, 988, 940, 945, 50, 474, 469, 979, 164, 138, 753, 26, 340, 582, 151, 953, 84,
                264, 731, 937, 85, 638, 197, 641, 580, 411, 855, 100, 813, 126, 941, 362, 877, 858,
                835, 226, 823, 693, 773, 75, 782, 856, 190, 99, 915, 514, 457, 969, 571, 273, 538,
                696, 426, 531, 729, 987, 660, 586, 950, 365, 726, 899, 447, 620, 634, 343, 584,
                529, 644, 122, 850, 534, 699, 653, 45, 501, 946, 873, 331, 348, 436, 438, 692, 880,
                543, 516, 621, 97, 590, 34, 370, 94, 316, 306, 332, 175, 182, 714, 380, 956, 256,
                361, 56, 379, 404, 763, 141, 237, 345, 925, 7, 417, 395, 302, 132, 185, 507, 428,
                794, 826, 659, 579, 635, 137, 351, 807, 955, 978, 690, 613, 1, 748, 619, 718, 448,
                278, 334, 639, 217, 865, 549, 996, 289, 542, 848, 738, 104, 204, 212, 55, 330, 272,
                928, 774, 458, 640, 815, 853, 767, 440, 360, 53, 214, 567, 312, 64, 260, 59, 896,
                81, 592, 270, 743, 785, 706, 757, 891, 311, 150, 890, 225, 578, 224, 766, 29, 123,
                883, 949, 232, 14, 475, 500, 156, 196, 139, 147, 878, 288, 23, 636, 128, 17, 439,
                281, 323, 20, 972, 719, 239, 135, 825, 572, 349, 307, 476, 57, 889, 900, 984, 836,
                73, 158, 413, 680, 888, 235, 347, 547, 471, 483, 125, 820, 713, 420, 193, 903, 229,
                742, 800, 646, 342, 829, 871, 924, 519, 874, 220, 860, 872, 546, 496, 768, 230,
                520, 498, 210, 991, 168, 624, 460, 908, 218, 705, 711, 737, 617, 532, 91, 840, 21,
                804, 675, 887, 389, 537, 728, 116, 970, 993, 326, 791, 492, 398, 219, 744, 759,
                114, 805, 601, 391, 30,
            ])
        })
    });
    c.bench_function("builtin-sort 1000", |b| {
        b.iter(|| {
            vec![
                573, 895, 755, 604, 802, 861, 929, 681, 78, 942, 54, 558, 569, 894, 165, 518, 472,
                673, 685, 509, 203, 368, 527, 522, 371, 916, 691, 227, 462, 378, 780, 231, 390,
                338, 824, 863, 661, 93, 409, 253, 595, 530, 366, 297, 374, 869, 982, 667, 827, 839,
                930, 799, 201, 964, 499, 533, 98, 487, 605, 662, 920, 465, 629, 221, 194, 844, 301,
                786, 240, 674, 765, 526, 432, 364, 242, 761, 65, 434, 121, 864, 376, 71, 206, 788,
                143, 249, 857, 754, 353, 449, 346, 58, 451, 885, 610, 304, 670, 562, 131, 845, 153,
                167, 962, 687, 652, 49, 216, 512, 933, 333, 19, 587, 205, 968, 192, 650, 108, 493,
                115, 187, 599, 83, 118, 974, 265, 18, 951, 43, 148, 222, 87, 779, 280, 886, 758,
                250, 296, 355, 117, 552, 548, 335, 588, 129, 77, 997, 684, 399, 4, 452, 536, 867,
                703, 555, 927, 994, 195, 645, 695, 344, 251, 643, 919, 321, 13, 911, 262, 841, 849,
                593, 575, 11, 388, 980, 965, 387, 107, 843, 39, 198, 401, 866, 124, 33, 298, 60,
                63, 770, 207, 400, 419, 616, 305, 689, 607, 285, 923, 354, 631, 884, 445, 510, 247,
                403, 170, 626, 822, 42, 594, 381, 983, 566, 879, 701, 948, 82, 424, 677, 494, 973,
                989, 846, 796, 162, 473, 133, 79, 808, 146, 934, 751, 961, 136, 290, 633, 314, 739,
                48, 72, 897, 814, 727, 103, 266, 459, 183, 960, 905, 466, 155, 486, 2, 140, 892,
                176, 464, 851, 415, 427, 286, 565, 149, 95, 990, 912, 700, 810, 163, 511, 10, 320,
                453, 525, 292, 630, 837, 425, 600, 480, 429, 431, 830, 234, 67, 544, 585, 412, 189,
                609, 648, 581, 69, 191, 385, 576, 319, 172, 906, 356, 615, 74, 614, 926, 904, 294,
                341, 784, 618, 257, 985, 180, 740, 70, 816, 936, 467, 287, 898, 322, 111, 819, 596,
                570, 277, 324, 977, 179, 86, 178, 986, 169, 666, 502, 367, 382, 199, 756, 769, 383,
                671, 717, 88, 541, 51, 213, 515, 577, 414, 397, 142, 957, 454, 741, 589, 517, 809,
                817, 664, 5, 177, 539, 446, 310, 704, 776, 910, 732, 789, 392, 490, 68, 144, 66,
                622, 127, 36, 406, 568, 259, 223, 833, 999, 105, 790, 734, 245, 396, 859, 506, 211,
                479, 623, 47, 657, 752, 811, 736, 375, 161, 963, 777, 725, 798, 402, 992, 12, 276,
                41, 875, 909, 540, 6, 952, 716, 157, 528, 120, 847, 186, 76, 647, 102, 971, 954,
                781, 350, 722, 628, 315, 159, 747, 228, 233, 113, 101, 668, 551, 574, 478, 313,
                627, 591, 702, 8, 215, 583, 258, 697, 981, 625, 22, 907, 489, 134, 870, 932, 931,
                3, 944, 612, 876, 407, 295, 503, 821, 749, 1000, 746, 254, 672, 597, 893, 485, 25,
                202, 745, 852, 208, 37, 902, 282, 327, 358, 535, 842, 803, 715, 914, 130, 166, 712,
                16, 110, 523, 339, 394, 637, 40, 793, 441, 275, 433, 359, 46, 764, 976, 918, 649,
                602, 663, 308, 318, 188, 442, 271, 632, 655, 797, 868, 236, 241, 771, 682, 329,
                244, 882, 422, 62, 80, 209, 44, 444, 92, 363, 678, 801, 504, 881, 831, 488, 373,
                679, 430, 995, 325, 665, 243, 336, 834, 154, 812, 31, 730, 563, 463, 508, 975, 357,
                145, 598, 720, 386, 482, 556, 554, 762, 303, 477, 352, 299, 267, 656, 421, 795,
                760, 694, 750, 248, 775, 733, 200, 443, 642, 456, 9, 553, 708, 291, 416, 966, 947,
                832, 561, 958, 152, 89, 683, 838, 293, 724, 470, 393, 418, 38, 654, 806, 184, 61,
                709, 24, 32, 119, 922, 557, 455, 263, 505, 90, 967, 495, 778, 959, 28, 268, 998,
                106, 603, 913, 410, 686, 707, 96, 545, 246, 384, 606, 735, 772, 828, 676, 550, 559,
                935, 35, 337, 491, 524, 921, 423, 943, 938, 564, 481, 173, 854, 160, 309, 939, 818,
                300, 862, 372, 792, 408, 261, 783, 698, 710, 521, 611, 171, 787, 27, 15, 274, 109,
                52, 238, 279, 112, 435, 688, 284, 450, 484, 651, 377, 917, 437, 317, 497, 513, 723,
                269, 669, 560, 328, 468, 901, 658, 181, 721, 369, 461, 174, 252, 405, 255, 608,
                283, 988, 940, 945, 50, 474, 469, 979, 164, 138, 753, 26, 340, 582, 151, 953, 84,
                264, 731, 937, 85, 638, 197, 641, 580, 411, 855, 100, 813, 126, 941, 362, 877, 858,
                835, 226, 823, 693, 773, 75, 782, 856, 190, 99, 915, 514, 457, 969, 571, 273, 538,
                696, 426, 531, 729, 987, 660, 586, 950, 365, 726, 899, 447, 620, 634, 343, 584,
                529, 644, 122, 850, 534, 699, 653, 45, 501, 946, 873, 331, 348, 436, 438, 692, 880,
                543, 516, 621, 97, 590, 34, 370, 94, 316, 306, 332, 175, 182, 714, 380, 956, 256,
                361, 56, 379, 404, 763, 141, 237, 345, 925, 7, 417, 395, 302, 132, 185, 507, 428,
                794, 826, 659, 579, 635, 137, 351, 807, 955, 978, 690, 613, 1, 748, 619, 718, 448,
                278, 334, 639, 217, 865, 549, 996, 289, 542, 848, 738, 104, 204, 212, 55, 330, 272,
                928, 774, 458, 640, 815, 853, 767, 440, 360, 53, 214, 567, 312, 64, 260, 59, 896,
                81, 592, 270, 743, 785, 706, 757, 891, 311, 150, 890, 225, 578, 224, 766, 29, 123,
                883, 949, 232, 14, 475, 500, 156, 196, 139, 147, 878, 288, 23, 636, 128, 17, 439,
                281, 323, 20, 972, 719, 239, 135, 825, 572, 349, 307, 476, 57, 889, 900, 984, 836,
                73, 158, 413, 680, 888, 235, 347, 547, 471, 483, 125, 820, 713, 420, 193, 903, 229,
                742, 800, 646, 342, 829, 871, 924, 519, 874, 220, 860, 872, 546, 496, 768, 230,
                520, 498, 210, 991, 168, 624, 460, 908, 218, 705, 711, 737, 617, 532, 91, 840, 21,
                804, 675, 887, 389, 537, 728, 116, 970, 993, 326, 791, 492, 398, 219, 744, 759,
                114, 805, 601, 391, 30,
            ]
            .sort();
        });
    });
}

criterion_group!(benches, criterion_benchmark);
criterion_main!(benches);
